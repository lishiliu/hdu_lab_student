<div nz-row>
    <h1>历史签到记录</h1>
</div>
<div nz-row>
    <div nz-col [nzSpan]="22">
        <p>查询学期：<span>{{searchSemester}}</span></p>
    </div>
    <div nz-col [nzSpan]="1" style="margin-left: -2em">
        <button nz-button [nzType]="'primary'" [nzSize]="'large'" onclick="window.history.back()">
            <span>返回</span>
        </button>
    </div>
</div>
<div nz-row class="mycard" [nzType]="'flex'" [nzJustify]="'center'" [nzAlign]="'middle'">
    <div nz-col [nzSpan]="8">
        <p>该学期总签到记录</p>
        <p>{{signRecords.length}}个</p>
    </div>
    <div nz-col [nzSpan]="8" class="se">
        <p>该学期已完成签到</p>
        <p>{{doCount}}个</p>
    </div>
    <div nz-col [nzSpan]="8">
        <p>该学期未完成签到</p>
        <p>{{undoCount}}个</p>
    </div>
</div>
<br>
<div nz-row>
    <div nz-col>
        <nz-table #nzTable [nzDataSource]="signRecords" [nzPageSize]="5" [nzShowSizeChanger]="true" [nzShowTotal]="true" [nzTotal]="signRecords.length">
            <thead nz-thead>
            <tr>
                <th nz-th  [nzWidth]="'22%'"><span>课程号</span></th>
                <th nz-th [nzWidth]="'20%'"><span>课程名称</span></th>
                <th nz-th><span>课程学时</span></th>
                <th nz-th><span>截止时间</span></th>
                <th nz-th><span>教师名</span></th>
                <th nz-th><span>座位号</span></th>
                <th nz-th><span>实验室</span></th>
                <th nz-th><span>状态</span></th>
            </tr>
            </thead>
            <tbody nz-tbody>
            <tr nz-tbody-tr *ngFor="let data of nzTable.data">
                <td nz-td>{{data.classId}}</td>
                <td nz-td>
                    <span>{{data.className}}</span>
                    <br>
                    <span>周{{this.WEEK[data.weekDays]}} 第{{data.classNum}}节</span>
                    <br>
                    <span>第{{data.classWeek}}周</span>
                </td>
                <td nz-td>{{this.getHours(data)}}</td>
                <td nz-td>{{data.endDate}}</td>
                <td nz-td><nz-popover [nzTitle]="'联系方式'">
                    <span nz-popover>{{data.userNickname}}</span>
                    <ng-template #nzTemplate>
                        <div><p>电话：{{data.phone}}</p>
                            <p>邮箱：{{data.email}}</p></div>
                    </ng-template>
                </nz-popover></td>
                <td nz-td>{{data.computerNo}}</td>
                <td nz-td>{{data.labName}}</td>
                <td nz-td>{{data.statusString}}</td>
            </tr>
            </tbody>
        </nz-table>
    </div>
</div>